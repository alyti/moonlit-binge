<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/htmx/2.0.0/htmx.min.js" integrity="sha512-Cpedvic0/Mgc3uRJ5apQ/ZYroPCZpatYEXGJayRaRNjKLaFualFxfxn97LJymznV+nC7y0/Hp/apHNwGpMimuw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.14.1/cdn.min.js" integrity="sha512-ytM6hP1K9BkRTjUQZpxZKFjJ2TvE4QXaK7phVymsm7NimaI5H09TWWW6f2JMbonLp4ftYU6xfwQGoe3C8jta9A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/static/js/sse.js"></script>
    <!-- Tailwind CSS Bundle, generated by build.rs via encre_css crate -->
    <link href="/static/css/bundle.css" rel="stylesheet">
    <!-- Favicon? More like no thanks -->
    <link rel="icon" href="data:,">
</head>

<body class="dark">
    {% block content %}{% endblock content %}
    <script>
        // json-enc extension for htmx, copied from:
        // https://github.com/bigskysoftware/htmx-extensions/blob/9524ce5b26a74edd8a576dbc3d97bd50d34fa053/src/json-enc/json-enc.js#L1-L12
        // because it's so simple and I don't want to add another dependency
        htmx.defineExtension('json-enc', {
            onEvent: function(name, evt) {
              if (name === 'htmx:configRequest') {
                evt.detail.headers['Content-Type'] = 'application/json'
              }
            },
          
            encodeParameters: function(xhr, parameters, elt) {
              xhr.overrideMimeType('text/json')
              return (JSON.stringify(parameters))
            }
          })
    </script>
</body>

</html>
